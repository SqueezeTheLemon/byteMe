{% extends "index.html" %}
{% block section %}
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í™”ì—°ì´ì˜ ëª¨í—˜</title>
    <style>
        /*ì—¬ê¸°ì„œë¶€í„°*/
        .large-rectangle {
            width: 100%;
            height: 190px; /* ì§ì‚¬ê°í˜• í¬ê¸° */
            background-color: white;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 25px;
            color: rgb(0, 0, 0);
            border-radius: 10px;
            border: 3px solid #b0bdff;
            padding-inline: 20 20;
            margin-top: 50px;
        }

        /* ì‘ì€ ì§ì‚¬ê°í˜• */
        .small-rectangle {
            width: 20%;
            height: 35%;
            background-color: #b0bdff;
            position: absolute;
            top: -55px;
            left: 10px;
            border-radius: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 25px;
            color: rgb(0, 0, 0);
            clip-path: inset(0 0 16% 0);
        }
        .next-destination {
            width: 30%;
            height: 35%;
            background-color: #b0bdff; /* ìƒ‰ìƒ ë³€ê²½ */
            position: absolute;
            top: -55px;
            left: 22%;
            border-radius: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 25px;
            color: rgb(0, 0, 0);
            clip-path: inset(0 0 16% 0);
            visibility: visible;
        }
    /* ì—¬í–‰í˜ì´ì§€ì˜ ë°°ë„ˆ ì´ë¯¸ì§€ */
.banner img {
    width: 100%;
    height: auto;
    display: block;
    max-width: 1500px;
    margin: 0 auto;
    margin-top: 20px;
}

/* ì½˜í…ì¸  */
.content {
    margin-top: 30px;
    max-width: 1500px;   
    margin: 0 auto;
}

/* ìŠ¬ë¼ì´ë“œ ì´ë¯¸ì§€ */
.image-slider {
    position: relative;
    max-width: 100%;
    overflow: hidden;
    margin-bottom: 20px;
}

.image-container {
    display: flex;
    transition: transform 0.5s ease-in-out;
}

.image-slide {
    min-width: 100%;
    height: auto;
}

.image-slide img {
    width: 100%;
    height: auto;
}

/* ìŠ¬ë¼ì´ë“œ ì¢Œìš° ë²„íŠ¼ */
button {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    background-color: rgba(0, 0, 0, 0.5);
    color: white;
    border: none;
    font-size: 2rem;
    padding: 8px;
    cursor: pointer;
    z-index: 10;
}

button.prev {
    left: 10px;
}

button.next {
    right: 10px;
}

button:hover {
    background-color: rgba(0, 0, 0, 0.3);
}

/* í˜ì´ì§€ë„¤ì´ì…˜ (ìŠ¬ë¼ì´ë“œ ë²ˆí˜¸ í‘œì‹œ) */
.pagination {
    text-align: center;
    padding: 10px;
    margin-bottom: 60px;
}

.dot {
    height: 15px;
    width: 15px;
    margin: 0 5px;
    background-color: #bbb;
    border-radius: 50%;
    display: inline-block;
    transition: background-color 0.6s ease;
    cursor: pointer;
}

.dot:hover {
    background-color: #717171;
}
    </style>


    <!--js ì—¬ê¸°ì„œë¶€í„°-->
    <script>
    let currentIndex = 0;

    document.addEventListener("DOMContentLoaded", function () {
    const sliderContainer = document.querySelector('.image-container');
    const sliderImages = document.querySelectorAll('.image-slide');
    const orderCountElement = document.getElementById('small-rect-text');
    const paginationDots = document.querySelectorAll('.dot');

    // ìŠ¬ë¼ì´ë“œ ì´ë™ í•¨ìˆ˜
    function moveSlide(direction) {
        const totalSlides = sliderImages.length;

        currentIndex += direction;

        if (currentIndex < 0) {
            currentIndex = totalSlides - 1;
        } else if (currentIndex >= totalSlides) {
            currentIndex = 0;
        }

        sliderContainer.style.transform = `translateX(-${currentIndex * 100}%)`;
        updatePagination();
    }

    // í˜ì´ì§€ë„¤ì´ì…˜ ì—…ë°ì´íŠ¸ í•¨ìˆ˜
    function updatePagination() {
        paginationDots.forEach((dot, index) => {
            if (index === currentIndex) {
                dot.style.backgroundColor = '#717171';
            } else {
                dot.style.backgroundColor = '#bbb';
            }
        });
    }

    // ì£¼ë¬¸íšŸìˆ˜ì— ë”°ë¼ ì´ë¯¸ì§€ ë³€ê²½ í•¨ìˆ˜
    function checkOrderCountAndUpdateImage(count) {
        if (count >= 4 && count < 8) {
            sliderImages[0].querySelector('img').src = "/static/trv1.png";
          } else if (count >= 8 && count < 12) {
            sliderImages[0].querySelector('img').src = "/static/trv1.png";
            sliderImages[1].querySelector('img').src = "/static/trv2-2.png";
          } else if (count >= 12 && count < 16) {
            sliderImages[0].querySelector('img').src = "/static/trv1.png";
            sliderImages[1].querySelector('img').src = "/static/trv2-3.png";
          } else if (count >= 16 && count < 20) {
            sliderImages[0].querySelector('img').src = "/static/trv1.png";
            sliderImages[1].querySelector('img').src = "/static/trv2.png";
            sliderImages[2].querySelector('img').src = "/static/trv3-1.png";
          } else if (count >= 20 && count < 24) {
            sliderImages[0].querySelector('img').src = "/static/trv1.png";
            sliderImages[1].querySelector('img').src = "/static/trv2.png";
            sliderImages[2].querySelector('img').src = "/static/trv3-2.png"; 
          } else if (count >=24 ){
            sliderImages[0].querySelector('img').src = "/static/trv1.png";
            sliderImages[1].querySelector('img').src = "/static/trv2.png";
            sliderImages[2].querySelector('img').src = "/static/trv3.png";
          }
    }
       
    //ë°‘ê¸€ìƒì ì£¼ë¬¸íšŸìˆ˜ì— ë”°ë¼ update
    function updateDescription(count) {
        const largeRectElement = document.getElementById('large-rect-text');
        const nextDestinationElement = document.getElementById('next-destination-text');
        const descriptions = [ 
            `<strong>ì»¤í”¼ ìˆ²ì— ë„ì°©í–ˆì–´ìš”!</strong><br>
            ì´ê³³ì€ ì»¤í”¼ í–¥ìœ¼ë¡œ ê°€ë“ ì°¬ ì‹ ë¹„ë¡œìš´ ìˆ²ì´ì—ìš”. ì»¤ë‹¤ë€ ì»¤í”¼ì½© ë‚˜ë¬´ê°€ ë¹½ë¹½ì´ ë“¤ì–´ì„œ ìˆê³ , ë‚˜ë­‡ê°€ì§€ë§ˆë‹¤ ì‹±ê·¸ëŸ¬ìš´ ì´ˆë¡ë¹› ìë“¤ì´ ë°”ëŒì— í”ë“¤ë ¤ìš”. ë‚˜ë¬´ ì‚¬ì´ë¡œ ë”°ëœ»í•œ í–‡ì‚´ì´ ë‚´ë ¤ì™€ ê¸¸ì„ ë¹„ì¶°ì£¼ê³  ìˆì–´ìš”.<br>
            â¡ï¸ ì£¼ë³€ ì´í™”ìƒì ì—ì„œ ì›í•˜ëŠ” ì»¤í”¼ë¥¼ ë°›ì„ ìˆ˜ ìˆì–´ìš”.`,

            `<strong>ì†Œë‹¤ í˜¸ìˆ˜ì— ë„ì°©í–ˆì–´ìš”!</strong><br>
            í˜¸ìˆ˜ëŠ” ë§‘ê³  ë°˜ì§ì´ë©°, í‘¸ë¥¸ ë¬¼ê²° ì†ì—ì„œ ìˆ˜ë§ì€ ì‘ì€ ê¸°í¬ë“¤ì´ ì˜¬ë¼ì™€ í†¡í†¡ íŠ€ì–´ìš”. ì”ì”í•œ ë¬¼ì†Œë¦¬ê°€ ë§ˆìŒì„ í¸ì•ˆí•˜ê²Œ ë§Œë“¤ì–´ì¤ë‹ˆë‹¤.<br>
            â¡ï¸ ì£¼ë³€ ì´í™”ìƒì ì—ì„œ ì›í•˜ëŠ” ë©”ë‰´ë¥¼ ë°›ì„ ìˆ˜ ìˆì–´ìš”.`,

            `<strong>ìš°ìœ  ë§ˆì„ì— ë„ì°©í–ˆì–´ìš”!</strong><br>
            ì´ˆë¡ ë“¤íŒ ìœ„ë¡œ í¼ì³ì§„ ì•„ê¸°ìê¸°í•œ ë§ˆì„ì´ì—ìš”. ì´ê³³ì—ì„œëŠ” ì–¸ì œë‚˜ ì‹ ì„ í•œ ìš°ìœ ë¡œ ë§Œë“  ê°„ì‹ì„ ë§›ë³¼ ìˆ˜ ìˆë‹µë‹ˆë‹¤.<br>
            â¡ï¸ ì£¼ë³€ ì´í™”ìƒì ì—ì„œ ì›í•˜ëŠ” ë©”ë‰´ë¥¼ ë°›ì„ ìˆ˜ ìˆì–´ìš”.`,

            `<strong>ë¼ë–¼ í­í¬ì— ë„ì°©í–ˆì–´ìš”!</strong><br>
            ë¶€ë“œëŸ¬ìš´ ë¼ë–¼ê°€ ëŠì„ì—†ì´ ìŸì•„ì§€ëŠ” ì¥ê´€ì´ì—ìš”! ë”°ëœ»í•œ ì»¤í”¼í–¥ì´ ê°€ë“í•œ ì´ê³³ì—ì„œëŠ” ëˆ„êµ¬ë“  í­í¬ ì•„ë˜ì—ì„œ ë¼ë–¼ë¥¼ ë§ˆì‹¤ ìˆ˜ ìˆë‹µë‹ˆë‹¤.<br>
            â¡ï¸ ì£¼ë³€ ì´í™”ìƒì ì—ì„œ ì›í•˜ëŠ” ë©”ë‰´ë¥¼ ë°›ì„ ìˆ˜ ìˆì–´ìš”.`,

            `<strong>ì•„ì•„ë©” ì„¬ì— ë„ì°©í–ˆì–´ìš”!</strong><br>
            ì‹œì›í•œ ë°”ë‹·ë°”ëŒì´ ë¶€ëŠ” ì•„ë¦„ë‹¤ìš´ ì„¬ì´ì—ìš”. í•˜ëŠ˜ë¹›ê³¼ ë‹®ì€ ì²­ëŸ‰í•œ ì•„ë©”ë¦¬ì¹´ë…¸ í•œ ì”ì„ ë§ˆì‹œë©° ë”ìœ„ë¥¼ ìŠì–´ë²„ë ¤ìš”.<br>
            â¡ï¸ ì£¼ë³€ ì´í™”ìƒì ì—ì„œ ì‹œì›í•œ ì•„ì´ìŠ¤ ì•„ë©”ë¦¬ì¹´ë…¸ í•œ ì”ì„ ë°›ì„ ìˆ˜ ìˆì–´ìš”.`,

            `<strong>ë””ì €íŠ¸ ì„±ì— ë„ì°©í–ˆì–´ìš”!</strong><br>
            ì´ê³³ì€ ë‹¬ì½¤í•¨ìœ¼ë¡œ ê°€ë“ ì°¬ ê¿ˆì˜ ì„±ì´ì—ìš”! ë‹¬ì½¤í•¨ìœ¼ë¡œ ê°€ë“í•œ ë””ì €íŠ¸ ì„±ì˜ ë¬¸ì´ í™œì§ ì—´ë¦¬ê³ , í™”ì—°ì´ë¥¼ ì¶•í•˜í•©ë‹ˆë‹¤.<br>
            â¡ï¸ <strong>ë§ˆì¹¨ë‚´ 2024 í™”ì—°ì´ì˜ ëª¨í—˜ì„ ì™„ìˆ˜í–ˆìŠµë‹ˆë‹¤! ğŸ¥³</strong> ì£¼ë³€ ì´í™”ìƒì ì—ì„œ ì›í•˜ëŠ” ë©”ë‰´ë¥¼ ë°›ì„ ìˆ˜ ìˆì–´ìš”.`
        ];

        const midDescriptions = [
            "ì„¤ë ˆëŠ” ëª¨í—˜ì˜ ì‹œì‘! ì²« ë²ˆì§¸ ëª©ì ì§€ë¡œ ë‚˜ì•„ê°‘ë‹ˆë‹¤.",
            "ì´ ì‹ ë¹„ë¡œìš´ ìˆ²ì˜ ëì—ëŠ” ì–´ë–¤ ëª©ì ì§€ê°€ ê¸°ë‹¤ë¦¬ê³  ìˆì„ê¹Œìš”? ê¸°ëŒ€ë¥¼ í’ˆê³  ë‹¤ìŒ ì¥ì†Œë¡œ ë‚˜ì•„ê°‘ë‹ˆë‹¤.",
            "í™”ì—°ì´ëŠ” ì—¬ì „íˆ ëª¨í—˜ ì¤‘ì´ì—ìš”!<br>ì†Œë‹¤ í˜¸ìˆ˜ì˜ ë¬¼ê²°ì„ ì§€ë‚˜ë©° ë§ˆìŒì„ ê°€ë‹¤ë“¬ìŠµë‹ˆë‹¤. ì´ì œ ìƒˆë¡œìš´ ë„ì „ì´ ê¸°ë‹¤ë¦¬ê³  ìˆì–´ìš”.",
            "í™”ì—°ì´ëŠ” ì ì‹œ ìˆ¨ì„ ê³ ë¦…ë‹ˆë‹¤.<br>ë§ˆì„ì˜ ë”°ëœ»í•œ ë¶„ìœ„ê¸° ì†ì—ì„œ ì—ë„ˆì§€ë¥¼ ì¶©ì „í•˜ë©° ë‹¤ì‹œ ê¸¸ì„ ë– ë‚©ë‹ˆë‹¤.",
            "í™”ì—°ì´ëŠ” ë§ˆìŒì„ ë‹¤ì¡ì•˜ì–´ìš”!<br>í­í¬ì˜ ê¸°ìš´ì„ ê°€ë“ ë‹´ì•„ ë‹¤ìŒ ëª©ì ì§€ë¥¼ í–¥í•´ ë°œê±¸ìŒì„ ì˜®ê¹ë‹ˆë‹¤.",
            "í™”ì—°ì´ëŠ” ì„¬ì—ì„œ í•œìˆ¨ ëŒë¦¬ê³ , ëª¨í—˜ì˜ ëì´ ë‹¤ê°€ì˜´ì„ ëŠê»´ìš”.<br>ë§ˆì§€ë§‰ ë„ì „ì„ ì¤€ë¹„í•˜ë©° í˜ì°¬ ë°œê±¸ìŒì„ ë‚´ë”›ìŠµë‹ˆë‹¤.",
        ];

        // ë‹¤ìŒ ëª©ì ì§€ê¹Œì§€ ë‚¨ì€ êµ¬ë§¤ íšŸìˆ˜
        const nextStep = 4 - (count % 4);

        if (count > 24) { //ì—¬í–‰ ë
            largeRectElement.innerHTML = `<strong>ëª¨í—˜ì„ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤!</strong><br>
            í™”ì—°ì´ëŠ” ëª¨ë“  ì—¬ì •ì„ ì„±ê³µì ìœ¼ë¡œ ëë§ˆì³¤ìŠµë‹ˆë‹¤. ë‚´ë…„ì— ì˜¬ ìƒˆë¡œìš´ ì´ì•¼ê¸°ë¥¼ ê¸°ëŒ€í•´ì£¼ì„¸ìš”!`;
        } 
        //ê° ëª©ì ì§€ ë„ì°©
        else if (count % 4 === 0 && count <= 24) { 
            if(count==0){ //ì—¬í–‰ì‹œì‘
                largeRectElement.innerHTML = "í™”ì—°ì´ì˜ ëª¨í—˜ì— í•¨ê»˜í•˜ì„¸ìš”! ì´í™”ìƒì ì—ì„œ ë©”ë‰´ë¥¼ ì£¼ë¬¸í•˜ë©´ ì—¬ì •ì´ ì‹œì‘ë©ë‹ˆë‹¤.";
            }else{
                const index = count / 4 - 1; 
                largeRectElement.innerHTML = descriptions[index];
            }
        } 
        else { //ì¤‘ê°„ ì—¬ì •
            const index = Math.floor(count / 4); 
            largeRectElement.innerHTML = midDescriptions[index];    
        }
        
        if(count>=24){
            nextDestinationElement.innerHTML=`ëª¨í—˜ ì™„ë£Œ!`;
        }else{
            nextDestinationElement.innerHTML = `ë‹¤ìŒ ëª©ì ì§€ê¹Œì§€ ${nextStep}íšŒ ë‚¨ì•˜ì–´ìš”!`;
        }
        
    }

    // êµ¬ë§¤ íšŸìˆ˜
    orderCount = {{ num }};
    orderCountElement.textContent = `ë‚˜ì˜ êµ¬ë§¤ íšŸìˆ˜: ${orderCount}íšŒ`;
    checkOrderCountAndUpdateImage(orderCount); // ì£¼ë¬¸íšŸìˆ˜ì— ë§ì¶° ì´ë¯¸ì§€ ë³€ê²½
    updateDescription(orderCount);

    // ìŠ¬ë¼ì´ë“œ ì´ë™ ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
    document.querySelector('.prev').addEventListener('click', () => moveSlide(-1));
    document.querySelector('.next').addEventListener('click', () => moveSlide(1));
    
    // í˜ì´ì§€ë„¤ì´ì…˜ í´ë¦­ ì´ë²¤íŠ¸
    paginationDots.forEach((dot, index) => {
        dot.addEventListener('click', () => {
            currentIndex = index;
            sliderContainer.style.transform = `translateX(-${currentIndex * 100}%)`;
            updatePagination();
            
        });
    });

    // ì´ˆê¸° ìƒíƒœ ì—…ë°ì´íŠ¸
    updatePagination();
});
    </script>    
</head>

<body>
    <section class="banner">
        <img src="{{ url_for('static', filename='0.png') }}" alt="ë°°ë„ˆ ì´ë¯¸ì§€">
    </section>
    <br>
    <section class="content">
        <!-- ìŠ¬ë¼ì´ë“œ ì´ë¯¸ì§€ -->
        <div class="image-slider">
            <div class="image-container">
                <div class="image-slide">
                    <img src="{{ url_for('static', filename='trv1-1.png') }}" alt="ìŠ¬ë¼ì´ë“œ 1">
                </div>
                <div class="image-slide">
                    <img src="{{ url_for('static', filename='trv2-1.png') }}" alt="ìŠ¬ë¼ì´ë“œ 2">
                </div>
                <div class="image-slide">
                    <img src="{{ url_for('static', filename='trv3-1.png') }}" alt="ìŠ¬ë¼ì´ë“œ 3">
                </div>
            </div>

            <!-- ì¢Œìš° ë²„íŠ¼ -->
            <button class="prev" onclick="moveSlide(-1)">&#10094;</button>
            <button class="next" onclick="moveSlide(1)">&#10095;</button>
        </div>

        <!-- í˜ì´ì§€ë„¤ì´ì…˜ (ìŠ¬ë¼ì´ë“œ ë²ˆí˜¸ í‘œì‹œ) -->
        <div class="pagination">
            <span class="dot" onclick="currentSlide(1)"></span>
            <span class="dot" onclick="currentSlide(2)"></span>
            <span class="dot" onclick="currentSlide(3)"></span>
        </div>
    <br>
        <div class="container">
            <!-- í° ì§ì‚¬ê°í˜• -->
            <div class="large-rectangle">
                <p class="order-count-text" id="large-rect-text"></p>
                <div class="small-rectangle">
                    <p class="order-count-text" id="small-rect-text"></p>
                </div>
                <div class="next-destination">
                    <p class="order-count-text" id="next-destination-text"></p>
                </div>
        </div>
    </section>
    
</body>
{% endblock section %}